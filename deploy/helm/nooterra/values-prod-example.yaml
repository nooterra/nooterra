# Production-ish example (pg + maintenance; receiver disabled).
store:
  mode: pg
  databaseUrlSecret:
    name: nooterra-db

# API evidence/artifact store (explicit S3 wiring).
evidenceStore:
  mode: s3
  s3:
    endpoint: https://s3.us-east-1.amazonaws.com
    region: us-east-1
    bucket: nooterra-prod-evidence
    forcePathStyle: false
    accessKeyIdSecret:
      name: nooterra-evidence-s3
      key: ACCESS_KEY_ID
    secretAccessKeySecret:
      name: nooterra-evidence-s3
      key: SECRET_ACCESS_KEY

maintenance:
  enabled: true

# Example export destinations that use file:/ secret refs (never inline secrets in production).
config:
  exportDestinationsJson: >-
    {"tenant_default":[{"destinationId":"receiver_v1","kind":"webhook","url":"https://receiver.example/deliveries/nooterra","secretRef":"file:/var/run/secrets/webhook_hmac"}]}

extraSecretMounts:
  - name: webhook-hmac
    secretName: nooterra-webhook-hmac
    mountPath: /var/run/secrets
    items:
      - key: webhook_hmac
        path: webhook_hmac
